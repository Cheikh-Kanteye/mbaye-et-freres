generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url = env("POSTGRES_PRISMA_URL")  
  directUrl = env("POSTGRES_URL_NON_POOLING")  
}

model categorie {
  idCategorie          Int         @id @default(autoincrement())
  nomCategorie         String
  descriptionCategorie String?
  familles             famille[]
}

model famille {
  idFamille            Int         @id @default(autoincrement())
  nomFamille           String
  descriptionFamille   String?
  idCategorie          Int
  idGuide              Int?
  categorie            categorie   @relation(fields: [idCategorie], references: [idCategorie])
  guideUrl             String?
  produits             produit[]
}

model produit {
  idProduit            Int         @id @default(autoincrement())
  nomProduit           String
  descriptionProduit   String?
  referenceProduit     String      @unique
  idFamille            Int
  typeProduit          String
  famille              famille     @relation(fields: [idFamille], references: [idFamille])
  images               imageProduit[]
}

model imageProduit {
  idImage              Int         @id @default(autoincrement())
  cheminImage          String
  idProduit            Int
  produit              produit     @relation(fields: [idProduit], references: [idProduit])
}

model service {
  idService            Int         @id @default(autoincrement())
  nomService           String
  descriptionService   String?
}

model messageContact {
  idMessage            Int         @id @default(autoincrement())
  nomClient            String
  emailClient          String
  message              String
  dateEnvoi            DateTime
  repondu              Boolean     @default(false)
  telephone            String
}

model user {
  id                  String      @id @default(uuid())
  nom                 String
  email               String      @unique
  motDePasse          String
}
